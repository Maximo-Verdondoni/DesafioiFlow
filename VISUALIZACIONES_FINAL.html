<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>visualizaciones_final</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="VISUALIZACIONES_FINAL_files/libs/clipboard/clipboard.min.js"></script>
<script src="VISUALIZACIONES_FINAL_files/libs/quarto-html/quarto.js"></script>
<script src="VISUALIZACIONES_FINAL_files/libs/quarto-html/popper.min.js"></script>
<script src="VISUALIZACIONES_FINAL_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="VISUALIZACIONES_FINAL_files/libs/quarto-html/anchor.min.js"></script>
<link href="VISUALIZACIONES_FINAL_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="VISUALIZACIONES_FINAL_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="VISUALIZACIONES_FINAL_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="VISUALIZACIONES_FINAL_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="VISUALIZACIONES_FINAL_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<hr>

<section id="consigna" class="level1">
<h1>Consigna</h1>
<p>iFlow es una empresa argentina dedicada a la logística integral, con alcance tanto nacional como internacional. Fue creada para Co-Gerenciar y operar las cadenas de abastecimiento de sus clientes en Argentina y MERCOSUR.</p>
<p>La base de datos contiene información transaccional de 27.484 entregas de pedidos para dos clientes de la empresa iFlow. Las entregas registradas abarcan un período temporal de aproximadamente tres meses.</p>
<p>El desafío consiste en realizar un análisis y descripción global de la base que permita entender y visualizar las características más releventes de la misma. Es importante notar que al ser una base de datos real, la misma puede contener errores, omisiones e inconsistencias. Estas últimas características son también de interés para el análisis.</p>
<p>Resolverán el caso para brindar una solución eficaz, inteligente y creativa al problema planteado.</p>
<hr>

</section>
<section id="análisis-exploratorio-de-los-datos" class="level1">
<h1>Análisis Exploratorio de los Datos</h1>
<p>A continuación, se mostrarán los resultados de un exhaustivo análisis exploratorio de la base de datos. Los gráficos enseñados fueron meticulosamente diseñados y creados con el fin de facilitar la interpretación del mensaje que se quiere transmitir con ellos.</p>
<div id="cell-4" class="cell" data-execution_count="120">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-4-output-1.png" width="490" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Observando el gráfico, se puede ver como en el transcurso de los meses de Mayo, Junio y Julio la empresa realizó una cantidad significativamente mayor de entregas al Cliente 20 que al Cliente 70. Con una diferencia de 5724 entregas, el <strong>Cliente 20 tuvo un total de 52.61% más de entregas que el Cliente 70</strong>.</p>
<p>En relación con el total de entregas realizadas, <strong>el 60.41% de ellas fueron realizadas al Cliente 20; mientras que el 39.59% fueron hechas al Cliente 70</strong>.</p>
<div>

</div>
<div>

</div>
<p>Análizando a la provincia de Buenos Aires y a la Ciudad Autónoma de Buenos Aires (CABA) por separado, se puede notar cómo <strong>el 92.57% del total de las entregas fueron hechas en CABA mientras que el 7.43% restante en Buenos Aires.</strong></p>
<div id="cell-7" class="cell" data-execution_count="121">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-5-output-1.png" width="630" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Si evaluamos por separado la proporción de entregas hechas a cada cliente por provincia, se puede observar como la gran mayoría de las entregas en Buenos Aires son para el Cliente 20, mientras que la proporción en CABA es un poco más pareja: 42.44% del Cliente 70 y 57.56% del Cliente 20.</p>
<div id="cell-9" class="cell" data-execution_count="122">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-6-output-1.png" width="630" height="468" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>

</section>
<section id="entregas-por-día" class="level1">
<h1>Entregas por Día</h1>
<p>Como se puede observar en el gráfico de abajo, <strong>de Mayo a Julio las entregas realizadas a los clientes aumentó en casi un 11%</strong>, pese a haber tenido un leve pero irrelevante declive en Junio.</p>
<div id="cell-14" class="cell" data-execution_count="125">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-9-output-1.png" width="490" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Segmentando las entregas hechas a cada cliente, se puede ver como las entregas a ambos clientes tuvieron comportamientos similares pero con notables diferencias:</p>
<p>Las entregas realizadas al Cliente 20 fue en aumento en cada mes, teniendo un aumento significativo de Junio a Julio de un 16%. Por otro lado, cuando estudiamos las entregas realizadas al Cliente 70, en Junio hubo una disminución de 8%, pero dicha reducción en entregas fue recuperada en Julio, volviendo a los niveles de entregas realziados en Mayo.</p>
<div id="cell-16" class="cell" data-execution_count="126">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-10-output-1.png" width="558" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Haciendo un análisis de las entregas realizadas en cada uno de los días en el transcurso de este periodo, se puede ver como las entregas rondan entre las 300 y 480 entregas por día, pero aún así se observan días en el que la cantidad de entregas fue significativamente menor a dichos valores.</p>
<p>Luego de investigar dichas fechas, encontramos que en estos días fueron días particulares que afectaron notablemente (Cómo se peude observar en el gráfico) la cantidad de entregas que se terminaron realizando en esos días: * El 9 de Mayo hubo un paro general. * El 20 de Junio fue el Día de la Bnadera, día feriado. * El 21 de Julio fue domingo, parece que se realizó un pedido excepcional ese día porque no es para nada normal ver entregas realziadas los domingos.</p>
<div id="cell-19" class="cell" data-execution_count="128">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-12-output-1.png" width="1388" height="588" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Si segmentamos las entregas realizadas en cada día por las hechas a cada cliente, se puede ver como ambos parecieran tener un patrón similar de cantidad de entregas pedidas: Se mantienen dentro de un rango (Para el Cliente 70, entre 110 y 190 entregas por día; y para el Cliente 20 entre 160 y 300 entregas por día).</p>
<p>Una caracterítica a destacar es cómo en el Día de la Bandera, el 20 de Junio, no se le realizó ninguna entrega al Cliente 20, pero se realzó una cantidad normal de entregas al Cliente 70.</p>
<div id="cell-21" class="cell" data-execution_count="129">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-13-output-1.png" width="1577" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="entregas-por-día-de-la-semana" class="level3">
<h3 class="anchored" data-anchor-id="entregas-por-día-de-la-semana">Entregas por Día de la Semana</h3>
<p>Calculando la cantidad de entregas realizadas por día de la semana, podemos ver un claro patrón: La mayoría de ;as entregas se realizan los Martes y Miércoles, siendo el día con menor entregas los Lunes, seguido de Jueves, Viernes y Sábado.</p>
<p>Es importante destacar el día Jueves, el cual es el segundo menor día en el que se realizaron entregas. Esto es así ya que de Mayo a Julio, el Día de la Bandera y el Paro General del 9 de Mayo fueron días Jueves, por lo que la cantidad de entregas realizadas en dicho día resulto afectada por estos eventos, algo que se puede notar en el gráfico de abajo.</p>
<div id="cell-24" class="cell" data-execution_count="130">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-14-output-1.png" width="790" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Segmentando la cantidad de entregas por cliente en cada día de la semana, se ve como ambos parecieran tener un mismo patrón de entregas realizadas.</p>
<div id="cell-27" class="cell" data-execution_count="132">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-16-output-1.png" width="790" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<hr>

</section>
</section>
<section id="análisis-temporal-de-las-entregas" class="level1">
<h1>Análisis Temporal de las Entregas</h1>
<p>Investigando la hora en la que las entregas se realizaron, obtuvimos la dsitribución de dicha variable: La cantidad de entregas realizadas por hora va en incremento hasta las 15hs, hora en la que se realizan la mayoría de los pedidos y luego decrece drásticamente a partir de las 17hs.</p>
<div id="cell-32" class="cell" data-execution_count="135">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-19-output-1.png" width="790" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Comparando las horas en las que se realizan las entregas de cada cliente, podemos ver una clara diferencia entre ambos clientes: * La gran mayoría de las entregas al Cliente 70 se realizan entre las 14hs y 16hs. * La gran mayoría de las entregas del Cliente 20 se realizan entre las 12hs y 16hs.</p>
<div id="cell-34" class="cell" data-execution_count="64">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-20-output-1.png" width="990" height="588" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-35" class="cell" data-execution_count="65">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-21-output-1.png" width="789" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-37" class="cell" data-execution_count="67">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-23-output-1.png" width="789" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-38" class="cell" data-execution_count="68">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-24-output-1.png" width="789" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-39" class="cell" data-execution_count="69">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-25-output-1.png" width="789" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-40" class="cell" data-execution_count="70">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-26-output-1.png" width="490" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-41" class="cell" data-execution_count="71">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-27-output-1.png" width="990" height="588" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-42" class="cell" data-execution_count="72">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-28-output-1.png" width="990" height="588" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-43" class="cell" data-execution_count="73">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-29-output-1.png" width="990" height="588" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-44" class="cell" data-execution_count="74">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-30-output-1.png" width="787" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-45" class="cell" data-execution_count="75">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-31-output-1.png" width="788" height="488" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-46" class="cell" data-execution_count="76">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-32-output-1.png" width="988" height="587" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Podemos ver una asociacion positiva entre unidades y bultos con una pendiente mucho mayor para el cliente 70 que el 20, aunque para el cliente 20 una gran cantidad de bultos no necesariamente esta relacionado con un alta cantidad de unidades El cliente 70 tiene una tendencia de tener grandes unidades con pocos bultos, mientras que el cliente 20 tiene a tener grandes bultos con pocas unidades</p>
<p>En general, ambos clientes tienen comportamiento distintos: - El cliente 20 tiende a hacer pedidos con una relacion mas alta de unidades con una mayor dispersion en los datos (debido posiblemente a distintos productos) - El cliente 70 tiende a hacer pedidos con datos muy heteregeneos con mas bultos que unidades (puede deberse a que siempre pide productos similares o identicos)</p>
<div id="cell-48" class="cell" data-execution_count="77">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="VISUALIZACIONES_FINAL_files/figure-html/cell-33-output-1.png" width="988" height="587" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>El gráfico sugiere que los clientes tienen patrones logisticos distintos: - El cliente 20 tiende a pedir productos mas pesados y en menor cantidades - El cliente 70 tiende a pedir productos mas livianos y en mayor unidades</p>
<p>En resumen: - Cliente 20: Parece tener entregas mas uniformes y estructuradas especialmente por su relacion entre bultos y unidades sugiriendo que trabaja con productos mas homogeneos en tamaño y cantidad - Cliente 70: Hay mayor variabilidad en este cliente, lo que nos sugiere que el cliente trabaja con productos mas heterogeneos en volumen y peso. Tambien maneja grandes cantidades de unidades sugiriendo que sus envios son grandes y voluminosos</p>
<div id="cell-51" class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear el mapa centrado en Buenos Aires</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location <span class="op">=</span> [<span class="op">-</span><span class="fl">34.603722</span>, <span class="op">-</span><span class="fl">58.381592</span>], zoom_start <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Paso 1: Crear el HeatMap con todas las coordenadas de los repartos</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>heat_data <span class="op">=</span> df[[<span class="st">'latitud'</span>, <span class="st">'longitud'</span>]].values.tolist()  <span class="co"># Coordenadas individuales de los repartos</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir el HeatMap</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>HeatMap(heat_data, </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        min_opacity<span class="op">=</span><span class="fl">0.3</span>,  </span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        max_opacity<span class="op">=</span><span class="fl">0.8</span>,  </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        radius<span class="op">=</span><span class="dv">25</span>,        </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        blur<span class="op">=</span><span class="dv">15</span>,          </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>        gradient<span class="op">=</span>{        </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.1</span>: <span class="st">'blue'</span>,    </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.4</span>: <span class="st">'green'</span>,   </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.7</span>: <span class="st">'yellow'</span>,  </span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>            <span class="fl">1.0</span>: <span class="st">'red'</span>      </span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        }).add_to(m)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar el mapa en un archivo HTML</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>m.save(<span class="st">"HEATMAP_CANTIDAD_ENVIOS.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-52" class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear el mapa centrado en Buenos Aires</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location <span class="op">=</span> [<span class="op">-</span><span class="fl">34.603722</span>, <span class="op">-</span><span class="fl">58.381592</span>], zoom_start <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Paso 1: Crear el HeatMap con todas las coordenadas de los repartos</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>heat_data <span class="op">=</span> df_cliente_20[[<span class="st">'latitud'</span>, <span class="st">'longitud'</span>]].values.tolist()  <span class="co"># Coordenadas individuales de los repartos</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir el HeatMap</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>HeatMap(heat_data, </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        min_opacity<span class="op">=</span><span class="fl">0.3</span>,  </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        max_opacity<span class="op">=</span><span class="fl">0.8</span>,  </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        radius<span class="op">=</span><span class="dv">25</span>,        </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>        blur<span class="op">=</span><span class="dv">15</span>,          </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>        gradient<span class="op">=</span>{        </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.1</span>: <span class="st">'blue'</span>,    </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.4</span>: <span class="st">'green'</span>,   </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.7</span>: <span class="st">'yellow'</span>,  </span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>            <span class="fl">1.0</span>: <span class="st">'red'</span>      </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        }).add_to(m)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar el mapa en un archivo HTML</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>m.save(<span class="st">"HEATMAP_CANTIDAD_ENVIOS_CLIENTE20.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-53" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear el mapa centrado en Buenos Aires</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location <span class="op">=</span> [<span class="op">-</span><span class="fl">34.603722</span>, <span class="op">-</span><span class="fl">58.381592</span>], zoom_start <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Paso 1: Crear el HeatMap con todas las coordenadas de los repartos</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>heat_data <span class="op">=</span> df_cliente_70[[<span class="st">'latitud'</span>, <span class="st">'longitud'</span>]].values.tolist()  <span class="co"># Coordenadas individuales de los repartos</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir el HeatMap</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>HeatMap(heat_data, </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        min_opacity<span class="op">=</span><span class="fl">0.3</span>,  </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        max_opacity<span class="op">=</span><span class="fl">0.8</span>,  </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        radius<span class="op">=</span><span class="dv">25</span>,        </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        blur<span class="op">=</span><span class="dv">15</span>,          </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        gradient<span class="op">=</span>{        </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.1</span>: <span class="st">'blue'</span>,    </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.4</span>: <span class="st">'green'</span>,   </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.7</span>: <span class="st">'yellow'</span>,  </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            <span class="fl">1.0</span>: <span class="st">'red'</span>      </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>        }).add_to(m)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar el mapa en un archivo HTML</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>m.save(<span class="st">"HEATMAP_CANTIDAD_ENVIOS_CLIENTE70.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-54" class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="83">
<pre><code>Index(['iddomicilioorden', 'direccion', 'provincia', 'municipio', 'localidad',
       'InicioHorario1', 'FinHorario1', 'latitud', 'longitud', 'cliente',
       'mes', 'Bultos', 'Peso', 'Unidades', 'VisitaPlanificada',
       'InicioVisitaReal', 'FinVisitaReal', 'VisitaPlanificadaFecha',
       'VisitaPlanificadaDia', 'VisitaPlanificadaHora', 'VisitaFecha',
       'VisitaDia', 'VisitaHora_Inicio', 'VisitaHora_Fin', 'Demora_Inicio_Fin',
       'VisitaHora_Inicio_UNICO', 'VisitaPlanificada_Hora_UNICO'],
      dtype='object')</code></pre>
</div>
</div>
<div id="cell-55" class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear el mapa centrado en Buenos Aires</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location <span class="op">=</span> [<span class="op">-</span><span class="fl">34.603722</span>, <span class="op">-</span><span class="fl">58.381592</span>], zoom_start <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Paso 1: Crear el HeatMap con todas las coordenadas de los repartos</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>heat_data <span class="op">=</span> df_cliente_70[[<span class="st">'latitud'</span>, <span class="st">'longitud'</span>]].values.tolist()  <span class="co"># Coordenadas individuales de los repartos</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir el HeatMap</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>HeatMap(heat_data, </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        min_opacity<span class="op">=</span><span class="fl">0.3</span>,  </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        max_opacity<span class="op">=</span><span class="fl">0.8</span>,  </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>        radius<span class="op">=</span><span class="dv">25</span>,        </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>        blur<span class="op">=</span><span class="dv">15</span>,          </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        gradient<span class="op">=</span>{        </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.1</span>: <span class="st">'blue'</span>,    </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.4</span>: <span class="st">'green'</span>,   </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.7</span>: <span class="st">'yellow'</span>,  </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>            <span class="fl">1.0</span>: <span class="st">'red'</span>      </span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>        }).add_to(m)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar el mapa en un archivo HTML</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>m.save(<span class="st">"HEATMAP_CANTIDAD_ENVIOS_CLIENTE70.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-56" class="cell" data-execution_count="87">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear el mapa centrado en Buenos Aires</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="op">-</span><span class="fl">34.603722</span>, <span class="op">-</span><span class="fl">58.381592</span>], zoom_start<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Paso 1: Crear una lista con todas las coordenadas de los repartos</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>coordenadas <span class="op">=</span> df_cliente_70[[<span class="st">'latitud'</span>, <span class="st">'longitud'</span>]].values.tolist()</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir un marcador para cada coordenada en el mapa</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> lat, lon <span class="kw">in</span> coordenadas:</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    folium.Marker(location<span class="op">=</span>[lat, lon]).add_to(m)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar el mapa en un archivo HTML</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>m.save(<span class="st">"MAPA_PUNTOS_CLIENTE70.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-57" class="cell" data-execution_count="101">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear el mapa centrado en Buenos Aires</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="op">-</span><span class="fl">34.603722</span>, <span class="op">-</span><span class="fl">58.381592</span>], zoom_start<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear una lista de coordenadas con el peso de Demora_Inicio_Fin</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>heat_data <span class="op">=</span> df[df[<span class="st">'Demora_Inicio_Fin'</span>]<span class="op">!=</span><span class="dv">0</span>].dropna()[[<span class="st">'latitud'</span>, <span class="st">'longitud'</span>, <span class="st">'Demora_Inicio_Fin'</span>]].values.tolist()</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir el HeatMap con la intensidad basada en Demora_Inicio_Fin</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>HeatMap(heat_data, </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>        min_opacity<span class="op">=</span><span class="fl">0.3</span>,  </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        max_opacity<span class="op">=</span><span class="fl">0.8</span>,  </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        radius<span class="op">=</span><span class="dv">25</span>,        </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        blur<span class="op">=</span><span class="dv">15</span>,          </span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>        gradient<span class="op">=</span>{        </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.1</span>: <span class="st">'blue'</span>,    </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.4</span>: <span class="st">'green'</span>,   </span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.7</span>: <span class="st">'yellow'</span>,  </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>            <span class="fl">1.0</span>: <span class="st">'red'</span>      </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        }).add_to(m)</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar el mapa en un archivo HTML</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>m.save(<span class="st">"HEATMAP_DEMORA.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-58" class="cell" data-execution_count="100">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear el mapa centrado en Buenos Aires</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="op">-</span><span class="fl">34.603722</span>, <span class="op">-</span><span class="fl">58.381592</span>], zoom_start<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear una lista de coordenadas con el peso de Demora_Inicio_Fin</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>heat_data <span class="op">=</span> df[(df[<span class="st">'cliente'</span>]<span class="op">==</span><span class="dv">70</span>) <span class="op">&amp;</span> (df[<span class="st">'Demora_Inicio_Fin'</span>]<span class="op">!=</span><span class="dv">0</span>)].dropna()[[<span class="st">'latitud'</span>, <span class="st">'longitud'</span>, <span class="st">'Demora_Inicio_Fin'</span>]].values.tolist()</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir el HeatMap con la intensidad basada en Demora_Inicio_Fin</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>HeatMap(heat_data, </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        min_opacity<span class="op">=</span><span class="fl">0.3</span>,  </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        max_opacity<span class="op">=</span><span class="fl">0.8</span>,  </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        radius<span class="op">=</span><span class="dv">25</span>,        </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        blur<span class="op">=</span><span class="dv">15</span>,          </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>        gradient<span class="op">=</span>{        </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.1</span>: <span class="st">'blue'</span>,    </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.4</span>: <span class="st">'green'</span>,   </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.7</span>: <span class="st">'yellow'</span>,  </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>            <span class="fl">1.0</span>: <span class="st">'red'</span>      </span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>        }).add_to(m)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar el mapa en un archivo HTML</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>m.save(<span class="st">"HEATMAP_DEMORA_CLIENTE70.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-59" class="cell" data-execution_count="99">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear el mapa centrado en Buenos Aires</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="op">-</span><span class="fl">34.603722</span>, <span class="op">-</span><span class="fl">58.381592</span>], zoom_start<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear una lista de coordenadas con el peso de Demora_Inicio_Fin</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>heat_data <span class="op">=</span> df[(df[<span class="st">'cliente'</span>]<span class="op">==</span><span class="dv">20</span>) <span class="op">&amp;</span> (df[<span class="st">'Demora_Inicio_Fin'</span>]<span class="op">!=</span><span class="dv">0</span>)].dropna()[[<span class="st">'latitud'</span>, <span class="st">'longitud'</span>, <span class="st">'Demora_Inicio_Fin'</span>]].values.tolist()</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir el HeatMap con la intensidad basada en Demora_Inicio_Fin</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>HeatMap(heat_data, </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        min_opacity<span class="op">=</span><span class="fl">0.3</span>,  </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>        max_opacity<span class="op">=</span><span class="fl">0.8</span>,  </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        radius<span class="op">=</span><span class="dv">25</span>,        </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        blur<span class="op">=</span><span class="dv">15</span>,          </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        gradient<span class="op">=</span>{        </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.1</span>: <span class="st">'blue'</span>,    </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.4</span>: <span class="st">'green'</span>,   </span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.7</span>: <span class="st">'yellow'</span>,  </span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>            <span class="fl">1.0</span>: <span class="st">'red'</span>      </span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>        }).add_to(m)</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar el mapa en un archivo HTML</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>m.save(<span class="st">"HEATMAP_DEMORA_CLIENTE20.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>